{"ast":null,"code":"import axios from \"axios\";\nexport const coreAxios = axios.create({\n  baseURL: process.env.REACT_APP_MAIN_URL,\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n});\n/* export const coreAxios2 = axios.create({\n    baseURL: process.env.REACT_APP_MAIN_URL,\n    headers: { \"Access-Control-Allow-Origin\": \"*\", \"api-version\": 1.1 },\n}); */\n\ncoreAxios.interceptors.request.use(function (req) {\n  let token = localStorage.getItem(\"token\");\n  if (token) {\n    req.headers.authorization = \"Bearer \" + token;\n  }\n  return req;\n});\ncoreAxios.interceptors.response.use(function (res) {\n  return res;\n}, error => {\n  var _error$response;\n  if ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    window.location = window.location.protocol + \"//\" + window.location.host + \"#/login\";\n    localStorage.clear();\n    return Promise.reject(error);\n  } else {\n    return Promise.reject(error);\n  }\n});","map":{"version":3,"names":["axios","coreAxios","create","baseURL","process","env","REACT_APP_MAIN_URL","headers","interceptors","request","use","req","token","localStorage","getItem","authorization","response","res","error","_error$response","status","window","location","protocol","host","clear","Promise","reject"],"sources":["/Users/macbookair/Desktop/DMF_SITE/DMF-NEW/Darul-Muttaquine/src/utilities/axios.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const coreAxios = axios.create({\n  baseURL: process.env.REACT_APP_MAIN_URL,\n  headers: { \"Access-Control-Allow-Origin\": \"*\" },\n});\n/* export const coreAxios2 = axios.create({\n    baseURL: process.env.REACT_APP_MAIN_URL,\n    headers: { \"Access-Control-Allow-Origin\": \"*\", \"api-version\": 1.1 },\n}); */\n\ncoreAxios.interceptors.request.use(function (req) {\n  let token = localStorage.getItem(\"token\");\n  if (token) {\n    req.headers.authorization = \"Bearer \" + token;\n  }\n\n  return req;\n});\ncoreAxios.interceptors.response.use(\n  function (res) {\n    return res;\n  },\n  (error) => {\n    if (error?.response?.status === 401) {\n      window.location =\n        window.location.protocol + \"//\" + window.location.host + \"#/login\";\n      localStorage.clear();\n      return Promise.reject(error);\n    } else {\n      return Promise.reject(error);\n    }\n  }\n);\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,CAAC;EACpCC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,kBAAkB;EACvCC,OAAO,EAAE;IAAE,6BAA6B,EAAE;EAAI;AAChD,CAAC,CAAC;AACF;AACA;AACA;AACA;;AAEAN,SAAS,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUC,GAAG,EAAE;EAChD,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,IAAIF,KAAK,EAAE;IACTD,GAAG,CAACJ,OAAO,CAACQ,aAAa,GAAG,SAAS,GAAGH,KAAK;EAC/C;EAEA,OAAOD,GAAG;AACZ,CAAC,CAAC;AACFV,SAAS,CAACO,YAAY,CAACQ,QAAQ,CAACN,GAAG,CACjC,UAAUO,GAAG,EAAE;EACb,OAAOA,GAAG;AACZ,CAAC,EACAC,KAAK,IAAK;EAAA,IAAAC,eAAA;EACT,IAAI,CAAAD,KAAK,aAALA,KAAK,wBAAAC,eAAA,GAALD,KAAK,CAAEF,QAAQ,cAAAG,eAAA,uBAAfA,eAAA,CAAiBC,MAAM,MAAK,GAAG,EAAE;IACnCC,MAAM,CAACC,QAAQ,GACbD,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAG,IAAI,GAAGF,MAAM,CAACC,QAAQ,CAACE,IAAI,GAAG,SAAS;IACpEX,YAAY,CAACY,KAAK,CAAC,CAAC;IACpB,OAAOC,OAAO,CAACC,MAAM,CAACT,KAAK,CAAC;EAC9B,CAAC,MAAM;IACL,OAAOQ,OAAO,CAACC,MAAM,CAACT,KAAK,CAAC;EAC9B;AACF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}